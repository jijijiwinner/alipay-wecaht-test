{"version":3,"sources":["webpack:///webpack/bootstrap 093d7b594b52ffdcf9a5","webpack:///./src/utils/util.js","webpack:///./src/pages/movies/movie-detail/class/Movie.js","webpack:///./node_modules/babel-runtime/helpers/classCallCheck.js"],"names":["convertToStarsArray","stars","num","toString","substring","array","i","push","http","url","callBack","my","httpRequest","method","header","success","res","data","fail","error","console","log","convertToCastString","casts","castsjoin","idx","name","length","convertToCastInfos","castsArray","cast","img","avatars","large","module","exports","util","require","Movie","getMovieData","cb","processDoubanData","bind","director","avatar","id","directors","movie","movieImg","images","country","countries","title","originalTitle","original_title","wishCount","wish_count","commentCount","comments_count","year","generes","genres","join","rating","score","average","castsInfo","summary"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAY,2BAA2B;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA,kDAA0C,oBAAoB,WAAW;;;;;;;;;;;AChGzE,SAASA,mBAAT,CAA6BC,KAA7B,EAAoC;AAClC,MAAIC,MAAMD,MAAME,QAAN,GAAiBC,SAAjB,CAA2B,CAA3B,EAA8B,CAA9B,CAAV;AACA,MAAIC,QAAQ,EAAZ;AACA,OAAK,IAAIC,IAAI,CAAb,EAAgBA,KAAK,CAArB,EAAwBA,GAAxB,EAA6B;AAC3B,QAAIA,KAAKJ,GAAT,EAAc;AACZG,YAAME,IAAN,CAAW,CAAX;AACD,KAFD,MAGK;AACHF,YAAME,IAAN,CAAW,CAAX;AACD;AACF;AACD,SAAOF,KAAP;AACD;;AAED,SAASG,IAAT,CAAcC,GAAd,EAAmBC,QAAnB,EAA6B;AAC3B;AACCC,IAAEA,CAACC,WAAH,CAAe;AACZH,SAAKA,GADO;AAEZI,YAAQ,KAFI,EAEG;AACfC,YAAQ;AACN,sBAAgB;AADV,KAHI;AAMZC,aAAS,iBAAUC,GAAV,EAAe;AACtBN,eAASM,IAAIC,IAAb;AACD,KARW;AASZC,UAAM,cAAUC,KAAV,EAAiB;AACrB;AACAC,cAAQC,GAAR,CAAYF,KAAZ;AACD;AAZW,GAAf;AAcF;;AAED,SAASG,mBAAT,CAA6BC,KAA7B,EAAoC;AAClC,MAAIC,YAAY,EAAhB;AACA,OAAK,IAAIC,GAAT,IAAgBF,KAAhB,EAAuB;AACrBC,gBAAYA,YAAYD,MAAME,GAAN,EAAWC,IAAvB,GAA8B,KAA1C;AACD;AACDN,UAAQC,GAAR,CAAYG,SAAZ;AACA,SAAOA,UAAUpB,SAAV,CAAoB,CAApB,EAAuBoB,UAAUG,MAAV,GAAmB,CAA1C,CAAP;AACD;;AAED,SAASC,kBAAT,CAA4BL,KAA5B,EAAmC;AACjC,MAAIM,aAAa,EAAjB;AACA,OAAK,IAAIJ,GAAT,IAAgBF,KAAhB,EAAuB;AACrB,QAAIO,OAAO;AACTC,WAAKR,MAAME,GAAN,EAAWO,OAAX,GAAqBT,MAAME,GAAN,EAAWO,OAAX,CAAmBC,KAAxC,GAAgD,EAD5C;AAETP,YAAMH,MAAME,GAAN,EAAWC;AAFR,KAAX;AAIAG,eAAWtB,IAAX,CAAgBuB,IAAhB;AACD;AACD,SAAOD,UAAP;AACD;;AAEDK,OAAOC,OAAP,GAAiB;AACfnC,uBAAqBA,mBADN;AAEfQ,QAAMA,IAFS;AAGfc,uBAAoBA,mBAHL;AAIfM,sBAAmBA;AAJJ,CAAjB,C;;;;;;;;;;;;;;;;;;;ACrDA,IAAIQ,OAAOC,mBAAOA,CAAC,CAAR,CAAX;;IACMC,K;AACF,mBAAY7B,GAAZ,EAAiB;AAAA;;AACb,aAAKA,GAAL,GAAWA,GAAX;AACH;;oBAED8B,Y,yBAAaC,E,EAAI;AACb,aAAKA,EAAL,GAAUA,EAAV;AACAJ,aAAK5B,IAAL,CAAU,KAAKC,GAAf,EAAoB,KAAKgC,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAApB;AACH,K;;oBAEDD,iB,8BAAkBxB,I,EAAM;AACpBG,gBAAQC,GAAR,CAAYJ,IAAZ;AACA,YAAI,CAACA,IAAL,EAAW;AACP;AACH;AACD,YAAI0B,WAAW;AACXC,oBAAQ,EADG;AAEXlB,kBAAM,EAFK;AAGXmB,gBAAI;AAHO,SAAf;AAKA,YAAI5B,KAAK6B,SAAL,CAAe,CAAf,KAAqB,IAAzB,EAA+B;AAC3B,gBAAI7B,KAAK6B,SAAL,CAAe,CAAf,EAAkBd,OAAlB,IAA6B,IAAjC,EAAuC;AACnCW,yBAASC,MAAT,GAAkB3B,KAAK6B,SAAL,CAAe,CAAf,EAAkBd,OAAlB,CAA0BC,KAA5C;AAEH;AACDU,qBAASjB,IAAT,GAAgBT,KAAK6B,SAAL,CAAe,CAAf,EAAkBpB,IAAlC;AACAiB,qBAASE,EAAT,GAAc5B,KAAK6B,SAAL,CAAe,CAAf,EAAkBD,EAAhC;AACH;AACD,YAAIE,QAAQ;AACRC,sBAAU/B,KAAKgC,MAAL,GAAchC,KAAKgC,MAAL,CAAYhB,KAA1B,GAAkC,EADpC;AAERiB,qBAASjC,KAAKkC,SAAL,CAAe,CAAf,CAFD;AAGRC,mBAAOnC,KAAKmC,KAHJ;AAIRC,2BAAepC,KAAKqC,cAJZ;AAKRC,uBAAWtC,KAAKuC,UALR;AAMRC,0BAAcxC,KAAKyC,cANX;AAORC,kBAAM1C,KAAK0C,IAPH;AAQRC,qBAAS3C,KAAK4C,MAAL,CAAYC,IAAZ,CAAiB,GAAjB,CARD;AASR7D,mBAAOmC,KAAKpC,mBAAL,CAAyBiB,KAAK8C,MAAL,CAAY9D,KAArC,CATC;AAUR+D,mBAAO/C,KAAK8C,MAAL,CAAYE,OAVX;AAWRtB,sBAAUA,QAXF;AAYRpB,mBAAOa,KAAKd,mBAAL,CAAyBL,KAAKM,KAA9B,CAZC;AAaR2C,uBAAW9B,KAAKR,kBAAL,CAAwBX,KAAKM,KAA7B,CAbH;AAcR4C,qBAASlD,KAAKkD;AAdN,SAAZ;AAgBA,aAAK3B,EAAL,CAAQO,KAAR;AACH,K;;;;;QAGGT,K,GAAAA,K;;;;;;;;ACjDK;;AAEb;;AAEA;AACA;AACA;AACA;AACA,E","file":"common.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = wx[\"webpackJsonp\"];\n \twx[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules, executeModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [], result;\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules, executeModules);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n \t\tif(executeModules) {\n \t\t\tfor(i=0; i < executeModules.length; i++) {\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = executeModules[i]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// objects to store loaded and loading chunks\n \tvar installedChunks = {\n \t\t6: 0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 093d7b594b52ffdcf9a5","function convertToStarsArray(stars) {\n  var num = stars.toString().substring(0, 1);\n  var array = [];\n  for (var i = 1; i <= 5; i++) {\n    if (i <= num) {\n      array.push(1);\n    }\n    else {\n      array.push(0);\n    }\n  }\n  return array;\n}\n\nfunction http(url, callBack) {\n  // console.log(callBack)\n   my.httpRequest({\n      url: url,\n      method: 'GET', // OPTIONS, GET, HEAD, POST, PUT, DELETE, TRACE, CONNECT\n      header: {\n        \"Content-Type\": \"json\"\n      },\n      success: function (res) {\n        callBack(res.data)\n      },\n      fail: function (error) {\n        // fail\n        console.log(error)\n      }\n    })\n}\n\nfunction convertToCastString(casts) {\n  var castsjoin = \"\";\n  for (var idx in casts) {\n    castsjoin = castsjoin + casts[idx].name + \" / \";\n  }\n  console.log(castsjoin)\n  return castsjoin.substring(0, castsjoin.length - 2);\n}\n\nfunction convertToCastInfos(casts) {\n  var castsArray = []\n  for (var idx in casts) {\n    var cast = {\n      img: casts[idx].avatars ? casts[idx].avatars.large : \"\",\n      name: casts[idx].name\n    }\n    castsArray.push(cast);\n  }\n  return castsArray;\n}\n\nmodule.exports = {\n  convertToStarsArray: convertToStarsArray,\n  http: http,\n  convertToCastString:convertToCastString,\n  convertToCastInfos:convertToCastInfos\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/util.js","var util = require('../../../../utils/util.js')\r\nclass Movie {\r\n    constructor(url) {\r\n        this.url = url;\r\n    }\r\n\r\n    getMovieData(cb) {\r\n        this.cb = cb;\r\n        util.http(this.url, this.processDoubanData.bind(this));\r\n    }\r\n\r\n    processDoubanData(data) {\r\n        console.log(data)\r\n        if (!data) {\r\n            return;\r\n        }\r\n        var director = {\r\n            avatar: \"\",\r\n            name: \"\",\r\n            id: \"\"\r\n        }\r\n        if (data.directors[0] != null) {\r\n            if (data.directors[0].avatars != null) {\r\n                director.avatar = data.directors[0].avatars.large\r\n\r\n            }\r\n            director.name = data.directors[0].name;\r\n            director.id = data.directors[0].id;\r\n        }\r\n        var movie = {\r\n            movieImg: data.images ? data.images.large : \"\",\r\n            country: data.countries[0],\r\n            title: data.title,\r\n            originalTitle: data.original_title,\r\n            wishCount: data.wish_count,\r\n            commentCount: data.comments_count,\r\n            year: data.year,\r\n            generes: data.genres.join(\"ã€\"),\r\n            stars: util.convertToStarsArray(data.rating.stars),\r\n            score: data.rating.average,\r\n            director: director,\r\n            casts: util.convertToCastString(data.casts),\r\n            castsInfo: util.convertToCastInfos(data.casts),\r\n            summary: data.summary\r\n        }\r\n        this.cb(movie);\r\n    }\r\n}\r\n\r\nexport {Movie}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/movies/movie-detail/class/Movie.js","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/classCallCheck.js\n// module id = 8\n// module chunks = 6"],"sourceRoot":""}